document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("burger").onclick=function(){document.getElementById("menu").classList.add("open")},document.querySelectorAll("#menu *").forEach((e=>{e.onclick=()=>{document.getElementById("menu").classList.remove("open")}}));const e=document.querySelectorAll(".section"),o=new IntersectionObserver((function(e,o){const t=e[0];t.isIntersecting&&(t.target.classList.remove("section--hidden"),o.unobserve(t.target))}),{root:null,threshold:.05});e.forEach((function(e){o.observe(e),e.classList.add("section--hidden")})),$("#pies").click((()=>{$(".product")[0].scrollIntoView({behavior:"smooth"})})),$("#aboutUs").click((()=>{$(".advantages")[0].scrollIntoView({behavior:"smooth"})})),$("#order").click((()=>{$(".order")[0].scrollIntoView({behavior:"smooth"})})),$("#choose").click((()=>{$(".product")[0].scrollIntoView({behavior:"smooth"})})),$(".btn-add").click((e=>{$("#products").val($(e.target).parents(".product-item").find(".product-item-title").text()),$(".order")[0].scrollIntoView({behavior:"smooth"})}));let t=$(".loader");$("#submit").click((function(){const e=$("#products"),o=$("#order-data"),r=$(".order-form"),s=$(".order-form-success"),c=$("#phone");let n=!1;t.css("display","flex"),$(".error-input").hide(),$(".order-input").css("border-color",""),e.val()||(e.css("border-color","red"),e.next().show(),t.css("display","none"),n=!0),o.val()||(o.css("border-color","red"),o.next().show(),t.hide(),n=!0),c.val()||(c.css("border-color","red"),c.next().show(),t.hide(),n=!0),n||$.ajax({method:"POST",url:"http://testologia.site/checkout",data:{name:e.val(),data:o.val(),phone:c.val()}}).done((function(e){t.hide(),e.success>=1?(r.hide(),s.show(),$("form")[0].reset(),setTimeout((()=>{r.show(),s.hide()}),5e3)):alert("Возникла ошибка при оформлении заказа, позвоните нам и сделайте заказ")}))}))}));